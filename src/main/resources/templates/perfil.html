<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Perfil - RedEncuentro</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

    <style>
        body {
            background-color: #f8f9fa;
        }
        .profile-header {
            background: linear-gradient(90deg, #007bff, #00c6ff);
            color: white;
            padding: 30px 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 8px rgb(0 123 255 / 0.3);
        }
        .profile-header h1 {
            font-weight: 700;
            margin: 0;
        }
        .btn-settings {
            background-color: transparent;
            border: none;
            color: white;
            font-size: 1.4rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        .btn-settings:hover {
            color: #ffc107;
        }
        .btn-logout {
            font-weight: 600;
        }
        .table thead {
            background-color: #007bff;
            color: white;
        }
        h3 {
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #343a40;
            font-weight: 600;
        }
    </style>
</head>
<body>

<div class="container my-5">
    <!-- Header con nombre usuario y botones -->
    <div class="profile-header d-flex justify-content-between align-items-center flex-wrap">
        <h1>Hola, <span th:text="${usuario.nombre}">Usuario</span>!</h1>
        <div class="d-flex align-items-center gap-3">
            <a href="/ajustes" title="Ajustes" class="btn-settings" aria-label="Ajustes">
                <i class="bi bi-gear-fill"></i>
            </a>
            <a href="/logout" class="btn btn-danger btn-sm btn-logout">Cerrar sesión</a>
        </div>
    </div>

    <!-- Tabla: Objetos en búsqueda -->
    <h3>Objetos en búsqueda</h3>
    <table class="table table-striped table-hover shadow-sm mb-5">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Tipología</th>
                <th>Fecha Pérdida</th>
                <th>Ubicación</th>
                <th>Recompensa</th>
                <th>Descripción</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="obj : ${objetosPerdidos}">
                <td th:text="${obj.id_objeto}">1</td>
                <td th:text="${obj.nombre}">Billetera</td>
                <td th:text="${obj.tipologia}">Accesorio</td>
                <td th:text="${#dates.format(obj.fecha, 'dd/MM/yyyy')}">01/06/2025</td>
                <td th:text="${obj.lugar}">Parque Central</td>
                <td th:text="${obj.recompensa}">20€</td>
                <td th:text="${obj.descripcion}">Billetera negra con tarjetas</td>
            </tr>
            <tr th:if="${#lists.isEmpty(objetosPerdidos)}">
                <td colspan="7" class="text-center text-muted fst-italic">No tienes objetos en búsqueda</td>
            </tr>
        </tbody>
    </table>

    <!-- Tabla: Objetos encontrados -->
    <h3>Objetos encontrados</h3>
    <table class="table table-striped table-hover shadow-sm">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Tipología</th>
                <th>Fecha Encontrado</th>
                <th>Ubicación</th>
                <th>Descripción</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="obj : ${objetosEncontrados}">
                <td th:text="${obj.id_objeto}">5</td>
                <td th:text="${obj.nombre}">Móvil</td>
                <td th:text="${obj.tipologia}">Electrónico</td>
                <td th:text="${#dates.format(obj.fecha, 'dd/MM/yyyy')}">02/06/2025</td>
                <td th:text="${obj.lugar}">Centro Comercial</td>
                <td th:text="${obj.descripcion}">iPhone negro con funda roja</td>
            </tr>
            <tr th:if="${#lists.isEmpty(objetosEncontrados)}">
                <td colspan="6" class="text-center text-muted fst-italic">No tienes objetos encontrados</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Bootstrap 5 JS y dependencias (Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
